<!DOCTYPE html>
<html>
<head>
	<title>Temasys: My Room Example</title>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js" type="text/javascript"></script>
</head>

<script src="http://cdn.temasys.com.sg/skyway/skywayjs/latest/skyway.debug.js"  type="text/javascript"></script>

<script type='text/javascript'>
function getWebcam() {
    t.getDefaultStream();
}
function joinRoom() {
    t.joinRoom();
}
function leaveRoom() {
    t.leaveRoom();
}
// get the variables needed to connect to skyway
var t = new Skyway();
t.init(
/*
  'http://developer.temasys.com.sg/',     // Default Room server for making API calls
  'eac8f7bd-f771-40fc-898a-c1adc2db1456', // APP ID
  'TEST_ROOM'                             // Room name for the call
*/
  'http://192.168.1.113:9000/',     // Default Room server for making API calls
  'eac8f7bd-f771-40fc-898a-c1adc2db1456', // APP ID
  'TEST_ROOM'                             // Room name for the call
);
//-------
t.on('peerJoined', function(id){
  alert('Peer ' + id + ' has joined the Room');
});
//--------
t.on('addPeerStream', function(peerID, stream){
  peerList = document.getElementById('listOfPeers');
  var peer = document.createElement('video');
  peer.id = peerID;
  peerList.appendChild(peer);
  attachMediaStream(peer, stream);
});
//--------
t.on('mediaAccessSuccess', function(stream){
  attachMediaStream( document.getElementById('localVideo'), stream );
});
//--------
t.on('peerLeft', function(peerID){
  var peer = document.getElementById(peerID);
  peer.parentElement.removeChild(peer);
});
</script>

<body>
    ...
    <!-- Button elements to invoke events -->
    <button onclick='getWebCam()'>Get Cam</button>
    <button onclick='joinRoom()'>Join Room</button>
    <button onclick='leaveRoom()'>Leave Room</button>
    <!-- Video elements for displaying the other party stream -->
    <video id='localVideo' autoplay></video>
    <div id='listOfPeers'></div>
    <!-- You may add poster attribute to your <video> element if you would like to display a default picture before the video starts or after the video ends -->
    <!-- E.g. <video id='localVideo' poster='noStream.png' autoplay></video> -->
    ...
</body>